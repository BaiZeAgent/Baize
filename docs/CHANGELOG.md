# 白泽3.0 更新日志

本文档记录白泽3.0的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

---

## [3.0.2] - 2025-02-23

### 新增

#### 核心功能
- **上下文管理** - Token预算管理、滑动窗口、上下文压缩
- **成本控制** - 预算配置、成本追踪、告警机制
- **状态管理** - Agent状态持久化、恢复机制
- **语义缓存** - 基于语义相似度的缓存系统

#### 自进化系统
- **能力缺口检测** - 自动检测系统缺失的能力
- **技能市场集成** - 搜索、下载、安装技能
- **资源锁机制** - 并发资源访问控制
- **记忆回滚** - 记忆快照和恢复

#### 思考引擎
- **重规划机制** - 动态调整执行计划
- **错误恢复** - 指数退避重试策略
- **简单对话判断** - 区分对话和任务

### 修复
- 修复简单对话被错误拆解为任务的问题
- 修复Windows下技能执行路径问题
- 修复编码问题导致的乱码

### 变更
- 优化Token预算分配策略
- 改进思考过程日志输出
- 完善类型定义

### 文档
- 新增完整的架构设计文档
- 新增开发文档
- 新增API文档
- 新增部署文档

---

## [3.0.1] - 2025-02-23

### 新增
- 能力缺口检测设计
- 技能市场集成设计
- 用户确认策略

### 文档
- 更新架构文档，新增第九章自进化系统内容

---

## [3.0.0] - 2025-02-22

### 新增

#### 核心架构
- **九层架构设计** - 完整的分层架构
- **六阶段思考协议** - 理解→拆解→规划→调度→验收→反思
- **动态技能加载** - 运行时加载Python/JS/Shell技能

#### 技能系统
- **技能加载器** - 动态扫描和加载技能
- **技能注册表** - 技能查找和能力索引
- **内置技能** - chat、file、fs、time

#### 记忆系统
- **三层记忆** - 情景记忆、声明式记忆、程序性记忆
- **五维度学习** - 用户偏好、任务模式、错误恢复等

#### 安全系统
- **安全边界** - 禁止区域、限制区域、自由区域
- **权限控制** - RBAC权限模型
- **审计日志** - 操作审计追踪

#### 自进化系统
- **角色化思考** - 产品经理、开发者、测试者等角色
- **进化流程** - 完整的自进化工作流
- **安全审计** - 静态代码扫描、红队测试

#### 可观测性
- **日志系统** - 结构化日志输出
- **分布式追踪** - TraceContext + Span

#### 交互层
- **CLI交互** - 命令行交互界面
- **HTTP API** - RESTful API接口

---

## 版本规划

### [3.1.0] - 计划中

#### 计划新增
- 沙箱隔离（Docker容器）
- DAG调度
- 思考过程可视化
- 性能指标收集

#### 计划优化
- 提升意图识别准确率
- 优化Token使用效率
- 改进错误提示信息

### [3.2.0] - 计划中

#### 计划新增
- 多模态支持
- 多Agent协作
- 技能市场公测

### [4.0.0] - 未来

#### 计划变更
- 可能的API不兼容变更
- 架构重大升级

---

## 贡献者

感谢所有为白泽3.0做出贡献的开发者！

---

## 链接

- [架构设计文档](./docs/architecture.md)
- [开发文档](./docs/DEVELOPMENT.md)
- [API文档](./docs/API.md)
