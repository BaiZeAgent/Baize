<p align="center">
  <img src="web/logo.png" alt="ç™½æ³½ Logo" width="200">
</p>

<h1 align="center">ç™½æ³½ 3.0</h1>

<p align="center">
  JARVISçº§AIåŠ©æ‰‹ - Node.js/TypeScriptå®ç°
</p>

<p align="center">
  <a href="#ç‰¹æ€§">ç‰¹æ€§</a> â€¢
  <a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#éƒ¨ç½²">éƒ¨ç½²</a> â€¢
  <a href="#æ¶æ„">æ¶æ„</a> â€¢
  <a href="CHANGELOG.md">æ›´æ–°æ—¥å¿—</a>
</p>

---

## è”ç³»æ–¹å¼

ğŸ“§ baizehub@163.com

## ç‰¹æ€§

- ğŸ§  **å…­é˜¶æ®µæ€è€ƒåè®®**: ç†è§£â†’æ‹†è§£â†’è§„åˆ’â†’è°ƒåº¦â†’éªŒæ”¶â†’åæ€
- ğŸ”„ **ä¸»åŠ¨ä»»åŠ¡æœºåˆ¶**: æ—¶é—´è§¦å‘ã€äº‹ä»¶è§¦å‘ã€æ¡ä»¶è§¦å‘
- ğŸ“š **ä¸‰å±‚è®°å¿†ç³»ç»Ÿ**: æƒ…æ™¯è®°å¿†ã€å£°æ˜å¼è®°å¿†ã€ç¨‹åºæ€§è®°å¿†
- ğŸ› ï¸ **å¯æ‰©å±•æŠ€èƒ½ç³»ç»Ÿ**: æ’ä»¶å¼æŠ€èƒ½æ¶æ„ï¼Œæ”¯æŒ ClawHub æŠ€èƒ½å¸‚åœº
- ğŸ¤– **å¤šLLMæ”¯æŒ**: é˜¿é‡Œäº‘ç™¾ç‚¼ã€æ™ºè°±æ¸…è¨€ã€Ollama
- ğŸ”’ **å®‰å…¨è¾¹ç•Œè®¾è®¡**: å››çº§é£é™©ç¡®è®¤æœºåˆ¶
- ğŸ§¬ **è‡ªè¿›åŒ–èƒ½åŠ›**: è§’è‰²åŒ–æ€è€ƒã€å®‰å…¨æ²™ç®±
- âœ¨ **æ™ºèƒ½åå¤„ç†**: LLMæ ¹æ®è®°å¿†å’Œç»éªŒè‡ªåŠ¨ä¼˜åŒ–å›å¤

## æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç™½æ³½3.0 æ¶æ„                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  L9 äº¤äº’å±‚      CLI / API / Web                                  â”‚
â”‚  L8 å®‰å…¨å±‚      è®¤è¯ / æƒé™ / å®¡è®¡                                â”‚
â”‚  L7 å†³ç­–å±‚      æ€è€ƒå¼•æ“ / ç¡®è®¤ç­–ç•¥ / æŠ€èƒ½åŒ¹é…                     â”‚
â”‚  L6 è°ƒåº¦å±‚      ä»»åŠ¡è°ƒåº¦å™¨ / ä¸»åŠ¨ä»»åŠ¡                              â”‚
â”‚  L5 æ‰§è¡Œå±‚      å¹¶è¡Œæ‰§è¡Œå™¨ / LLMåå¤„ç†                             â”‚
â”‚  L4 èƒ½åŠ›å±‚      æŠ€èƒ½æ³¨å†Œè¡¨ / æŠ€èƒ½åŠ è½½å™¨ / ClawHubå®¢æˆ·ç«¯            â”‚
â”‚  L3 çŸ¥è¯†å±‚      å‘é‡å­˜å‚¨ / RAG                                    â”‚
â”‚  L2 æ•°æ®å±‚      SQLite (sql.js)                                  â”‚
â”‚  L1 å¯è§‚æµ‹å±‚    æ—¥å¿— / æŒ‡æ ‡ / è¿½è¸ª                                â”‚
â”‚                                                                 â”‚
â”‚  ç‹¬ç«‹æ¨¡å—: è‡ªè¿›åŒ–ç³»ç»Ÿ / è®°å¿†ç³»ç»Ÿ                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„API Keyï¼š

```
# é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆæ¨èï¼‰
ALIYUN_API_KEY=your_api_key

# æ™ºè°±æ¸…è¨€
ZHIPU_API_KEY=your_api_key

# Ollamaï¼ˆæœ¬åœ°è¿è¡Œï¼Œæ— éœ€Keyï¼‰
# ç¡®ä¿OllamaæœåŠ¡å·²å¯åŠ¨: ollama serve
```

### 3. ç¼–è¯‘

```bash
# ç¼–è¯‘TypeScript
npm run build

# æˆ–è€…ä½¿ç”¨tsc
npx tsc
```

### 4. å¯åŠ¨

```bash
# äº¤äº’æ¨¡å¼ï¼ˆæ¨èï¼‰
npm start

# æˆ–ç›´æ¥è¿è¡Œ
node dist/cli/index.js start
```

## éƒ¨ç½²

### æœ¬åœ°å¼€å‘

```bash
# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# ç¼–è¯‘
npm run build

# æµ‹è¯•
npm test
```

### ç”Ÿäº§éƒ¨ç½²

#### æ–¹å¼1: ç›´æ¥è¿è¡Œ

```bash
# ç¼–è¯‘
npm run build

# å¯åŠ¨äº¤äº’æ¨¡å¼
node dist/cli/index.js start

# å¯åŠ¨APIæœåŠ¡
node dist/cli/index.js api 3000

# å¯åŠ¨WebæœåŠ¡
node dist/cli/index.js web
```

#### æ–¹å¼2: Dockerï¼ˆæ¨èï¼‰

```dockerfile
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install --production

COPY dist ./dist
COPY skills ./skills
COPY web ./web

ENV NODE_ENV=production

EXPOSE 3000 8080

CMD ["node", "dist/cli/index.js", "web"]
```

```bash
# æ„å»ºé•œåƒ
docker build -t baize:3.0 .

# è¿è¡Œå®¹å™¨
docker run -d \
  -p 3000:3000 \
  -p 8080:8080 \
  -e ALIYUN_API_KEY=your_key \
  -v $(pwd)/data:/app/data \
  baize:3.0
```

#### æ–¹å¼3: PM2ï¼ˆè¿›ç¨‹ç®¡ç†ï¼‰

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨APIæœåŠ¡
pm2 start dist/cli/index.js --name baize-api -- api 3000

# å¯åŠ¨WebæœåŠ¡
pm2 start dist/cli/index.js --name baize-web -- web

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs

# å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

### ç¯å¢ƒå˜é‡é…ç½®

| å˜é‡å | è¯´æ˜ | å¿…éœ€ |
|--------|------|------|
| `ALIYUN_API_KEY` | é˜¿é‡Œäº‘ç™¾ç‚¼ API Key | æ¨è |
| `ZHIPU_API_KEY` | æ™ºè°±æ¸…è¨€ API Key | å¯é€‰ |
| `OLLAMA_HOST` | Ollama æœåŠ¡åœ°å€ | å¯é€‰ï¼Œé»˜è®¤ localhost:11434 |
| `BAIZE_DATA_DIR` | æ•°æ®ç›®å½• | å¯é€‰ï¼Œé»˜è®¤ ./data |
| `BAIZE_LOG_LEVEL` | æ—¥å¿—çº§åˆ« | å¯é€‰ï¼Œé»˜è®¤ info |

## è¿è¡Œ

### å¯åŠ¨æ–¹å¼

```bash
# äº¤äº’æ¨¡å¼
node dist/cli/index.js start

# WebæœåŠ¡ï¼ˆAPI + Webç•Œé¢ï¼‰
node dist/cli/index.js web

# åªå¯åŠ¨APIæœåŠ¡
node dist/cli/index.js api

# æŒ‡å®šç«¯å£
node dist/cli/index.js api 8080

# å•æ¬¡å¯¹è¯
node dist/cli/index.js chat "ä½ å¥½"

# è¿è¡Œæµ‹è¯•
node dist/cli/index.js test
```

### æœåŠ¡åœ°å€

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|-----|------|------|
| API æœåŠ¡ | http://localhost:3000 | REST API |
| Web ç•Œé¢ | http://localhost:8080 | Web UI |

### API æ¥å£

#### å¯¹è¯æ¥å£

```bash
# å¯¹è¯
curl -X POST http://localhost:3000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ä»Šå¤©æ­å·å¤©æ°”æ€ä¹ˆæ ·"}'

# è·å–å¯¹è¯å†å²
curl http://localhost:3000/api/chat/history

# æ¸…ç©ºå¯¹è¯å†å²
curl -X DELETE http://localhost:3000/api/chat/history
```

#### æŠ€èƒ½æ¥å£

```bash
# è·å–æŠ€èƒ½åˆ—è¡¨
curl http://localhost:3000/api/skills

# æ‰§è¡ŒæŠ€èƒ½
curl -X POST http://localhost:3000/api/skills/execute \
  -H "Content-Type: application/json" \
  -d '{"skillName": "time", "params": {}}'
```

#### å…¶ä»–æ¥å£

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:3000/health

# æˆæœ¬ç»Ÿè®¡
curl http://localhost:3000/api/cost/stats

# LLMé…ç½®
curl http://localhost:3000/api/config/llm
```

## æŠ€èƒ½å¸‚åœº

ç™½æ³½3.0 é›†æˆäº† [ClawHub](https://clawhub.ai) æŠ€èƒ½å¸‚åœºï¼Œå¯ä»¥ä¸€é”®å®‰è£…å„ç§æŠ€èƒ½ï¼š

```bash
# æœç´¢æŠ€èƒ½
node dist/cli/index.js skill search weather

# å®‰è£…æŠ€èƒ½
node dist/cli/index.js skill install weather

# åˆ—å‡ºå·²å®‰è£…æŠ€èƒ½
node dist/cli/index.js skill list

# æŸ¥çœ‹æŠ€èƒ½è¯¦æƒ…
node dist/cli/index.js skill info weather

# å¸è½½æŠ€èƒ½
node dist/cli/index.js skill uninstall weather
```

### å®‰è£…æµç¨‹

å®‰è£…æŠ€èƒ½æ—¶ä¼šè‡ªåŠ¨ï¼š
1. ä¸‹è½½æŠ€èƒ½åŒ…
2. åˆ†ææ–‡æ¡£å’Œè„šæœ¬ï¼Œæå–å‚æ•°å®šä¹‰
3. å®‰è£…ä¾èµ–ï¼ˆnpm install / pip installï¼‰
4. æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤
5. æç¤ºéœ€è¦é…ç½®çš„ç¯å¢ƒå˜é‡

### å¯ç”¨æŠ€èƒ½ç¤ºä¾‹

| æŠ€èƒ½ | è¯´æ˜ | ç±»å‹ |
|------|------|------|
| weather | å¤©æ°”æŸ¥è¯¢ï¼ˆæ— éœ€API Keyï¼‰ | æ–‡æ¡£å‹ |
| brave-search | Braveæœç´¢ | è„šæœ¬å‹ |
| file-search | æ–‡ä»¶æœç´¢ | æ–‡æ¡£å‹ |
| time | æ—¶é—´æŸ¥è¯¢ | è„šæœ¬å‹ |

## é¡¹ç›®ç»“æ„

```
Baize/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ cli/               # CLIå…¥å£
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒå±‚
â”‚   â”‚   â”œâ”€â”€ brain/         # å¤§è„‘å†³ç­–
â”‚   â”‚   â”œâ”€â”€ thinking/      # æ€è€ƒå¼•æ“ï¼ˆå…­é˜¶æ®µï¼‰
â”‚   â”‚   â”œâ”€â”€ confirmation/  # ç¡®è®¤ç­–ç•¥
â”‚   â”‚   â””â”€â”€ error.ts       # é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ llm/               # LLMé€‚é…å™¨
â”‚   â”œâ”€â”€ memory/            # è®°å¿†ç³»ç»Ÿ
â”‚   â”œâ”€â”€ skills/            # æŠ€èƒ½ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ base.ts        # æŠ€èƒ½åŸºç±»
â”‚   â”‚   â”œâ”€â”€ registry.ts    # æŠ€èƒ½æ³¨å†Œè¡¨
â”‚   â”‚   â”œâ”€â”€ loader.ts      # æŠ€èƒ½åŠ è½½å™¨
â”‚   â”‚   â””â”€â”€ market/        # ClawHubå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ executor/          # æ‰§è¡Œå±‚
â”‚   â”œâ”€â”€ evolution/         # è‡ªè¿›åŒ–æ¨¡å—
â”‚   â”œâ”€â”€ interaction/       # äº¤äº’å±‚ï¼ˆAPI/Webï¼‰
â”‚   â”œâ”€â”€ observability/     # å¯è§‚æµ‹å±‚
â”‚   â””â”€â”€ types/             # ç±»å‹å®šä¹‰
â”œâ”€â”€ dist/                   # ç¼–è¯‘è¾“å‡º
â”œâ”€â”€ skills/                 # æŠ€èƒ½ç›®å½•
â”œâ”€â”€ data/                   # æ•°æ®ç›®å½•
â”œâ”€â”€ web/                    # Webç•Œé¢
â”œâ”€â”€ CHANGELOG.md            # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

## æ ¸å¿ƒåŠŸèƒ½

### å…­é˜¶æ®µæ€è€ƒåè®®

1. **ç†è§£**: è§£æç”¨æˆ·æ„å›¾ï¼Œæå–æ ¸å¿ƒéœ€æ±‚
2. **æ‹†è§£**: å°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºåŸå­ä»»åŠ¡
3. **è§„åˆ’**: é€‰æ‹©æŠ€èƒ½ï¼Œåˆ¶å®šæ‰§è¡Œè®¡åˆ’
4. **è°ƒåº¦**: å®‰æ’æ‰§è¡Œé¡ºåºï¼Œç®¡ç†å¹¶è¡Œç»„
5. **éªŒæ”¶**: æ£€æŸ¥æ‰§è¡Œç»“æœï¼Œæ”¶é›†é—®é¢˜
6. **åæ€**: åˆ†æå¤±è´¥åŸå› ï¼Œæå‡ºæ”¹è¿›æ–¹æ¡ˆ

### ä¸‰å±‚è®°å¿†ç³»ç»Ÿ

- **æƒ…æ™¯è®°å¿†**: å¯¹è¯å†å²ã€äº‹ä»¶è®°å½•
- **å£°æ˜å¼è®°å¿†**: ç”¨æˆ·åå¥½ã€äº‹å®çŸ¥è¯†
- **ç¨‹åºæ€§è®°å¿†**: ä»»åŠ¡æ¨¡å¼ã€æ‰§è¡Œæµç¨‹

### æ™ºèƒ½åå¤„ç†

æŠ€èƒ½æ‰§è¡Œåï¼ŒLLMä¼šæ ¹æ®ä»¥ä¸‹å› ç´ è‡ªåŠ¨ä¼˜åŒ–å›å¤ï¼š

1. **ç”¨æˆ·æ˜ç¡®æŒ‡ä»¤** - "æ€»ç»“ä¸€ä¸‹"ã€"æ˜¾ç¤ºåŸå§‹ç»“æœ"
2. **è®°å¿†å’Œç»éªŒ** - ç”¨æˆ·åå¥½ç®€æ´è¿˜æ˜¯è¯¦ç»†
3. **ç»“æœå¤æ‚åº¦** - ç®€å•ç»“æœç›´æ¥è¿”å›ï¼Œå¤æ‚ç»“æœæ™ºèƒ½å¤„ç†

```
ç”¨æˆ·: ä»Šå¤©æ­å·å¤©æ°”æ€ä¹ˆæ ·
     â†“
æŠ€èƒ½æ‰§è¡Œ: curl wttr.in/Hangzhou
     â†“
åŸå§‹ç»“æœ: ä¸€å¤§å †å¤©æ°”å›¾è¡¨
     â†“
LLMåå¤„ç†: "æ­å·ä»Šå¤©æœ‰é›¾ï¼Œæ°”æ¸©9Â°Cï¼Œä¸‹åˆå¯èƒ½æœ‰å°é›¨ï¼Œå»ºè®®å¸¦ä¼"
```

### è‡ªè¿›åŒ–ç³»ç»Ÿ

- è§’è‰²åŒ–æ€è€ƒï¼ˆäº§å“ç»ç†ã€å¼€å‘è€…ã€æµ‹è¯•ã€ç”¨æˆ·ï¼‰
- å®‰å…¨æ²™ç®±æœºåˆ¶
- æƒé™åˆ†çº§ç®¡ç†
- èƒ½åŠ›å·®è·æ£€æµ‹

## å‘½ä»¤è¡Œå·¥å…·å®Œæ•´åˆ—è¡¨

```bash
# äº¤äº’æ¨¡å¼
baize start
baize                    # åŒä¸Š

# å•æ¬¡å¯¹è¯
baize chat "ä½ å¥½"

# æµ‹è¯•
baize test

# æŠ€èƒ½ç®¡ç†
baize skill list              # åˆ—å‡ºå·²å®‰è£…æŠ€èƒ½
baize skill search weather    # æœç´¢æŠ€èƒ½
baize skill install weather   # å®‰è£…æŠ€èƒ½
baize skill uninstall weather # å¸è½½æŠ€èƒ½
baize skill info weather      # æŸ¥çœ‹æŠ€èƒ½è¯¦æƒ…

# WebæœåŠ¡
baize web                     # å¯åŠ¨WebæœåŠ¡
baize api                     # å¯åŠ¨APIæœåŠ¡
baize api 8080                # æŒ‡å®šç«¯å£

# å¸®åŠ©
baize help
baize --help
```

## æ”¯æŒçš„LLM

| æä¾›å•† | ç±»å‹ | é…ç½® | è¯´æ˜ |
|--------|------|------|------|
| é˜¿é‡Œäº‘ç™¾ç‚¼ | OpenAIå…¼å®¹ | ALIYUN_API_KEY | æ¨èï¼Œç¨³å®š |
| æ™ºè°±æ¸…è¨€ | OpenAIå…¼å®¹ | ZHIPU_API_KEY | å¤‡é€‰ |
| Ollama | æœ¬åœ° | æ— éœ€Key | éœ€è¦æœ¬åœ°è¿è¡ŒOllama |

## å¸¸è§é—®é¢˜

### 1. LLMè°ƒç”¨å¤±è´¥

æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„API Keyæ˜¯å¦æ­£ç¡®é…ç½®ã€‚

### 2. æŠ€èƒ½æ‰§è¡Œå¤±è´¥

- æ£€æŸ¥æŠ€èƒ½æ˜¯å¦æ­£ç¡®å®‰è£…
- æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆæ–‡æ¡£å‹æŠ€èƒ½éœ€è¦è®¿é—®å¤–éƒ¨APIï¼‰
- æŸ¥çœ‹æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### 3. ç¼–è¯‘é”™è¯¯

```bash
# æ¸…ç†åé‡æ–°ç¼–è¯‘
rm -rf dist
npm run build
```

### 4. æŠ€èƒ½ä¾èµ–å®‰è£…å¤±è´¥

- æ£€æŸ¥æ˜¯å¦å®‰è£…äº† Node.js å’Œ Python
- æ‰‹åŠ¨è¿›å…¥æŠ€èƒ½ç›®å½•æ‰§è¡Œ `npm install` æˆ– `pip install -r requirements.txt`

## è®¸å¯è¯

MIT License

---

<p align="center">
  Made with â¤ï¸ by BaiZe Team
</p>
